<!-- Navigation Partial -->
<header class="dashboard-header">
    <div class="header-left">
        <h1 class="logo">Colabi</h1>
        <nav class="nav-menu">
            <a href="/dashboard" class="nav-item <%= currentPage === 'dashboard' ? 'active' : '' %>">Dashboard</a>
            <a href="#" class="nav-item <%= currentPage === 'messages' ? 'active' : '' %>">Messages</a>
            <a href="/accounts" class="nav-item <%= currentPage === 'accounts' ? 'active' : '' %>">Accounts</a>
            <a href="/train-agent" class="nav-item <%= currentPage === 'train-agent' ? 'active' : '' %>">Train your Agent</a>
            <a href="#" class="nav-item <%= currentPage === 'analytics' ? 'active' : '' %>">Analytics</a>
            <a href="#" class="nav-item <%= currentPage === 'settings' ? 'active' : '' %>">Settings</a>
        </nav>
    </div>
    <div class="header-right">
        <div class="user-menu">
            <span class="user-name"><%= user.name %></span>
            <div class="user-avatar">
                <%= user.name.charAt(0).toUpperCase() %>
            </div>
            <button class="logout-btn" onclick="handleLogout()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16,17 21,12 16,7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
            </button>
        </div>
    </div>
</header>

<script>
async function handleLogout() {
    try {
        const response = await fetch('/auth/logout', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            }
        });
        
        const result = await response.json();
        
        if (result.success) {
            window.location.href = result.redirect;
        }
    } catch (error) {
        console.error('Logout error:', error);
    }
}
</script> 